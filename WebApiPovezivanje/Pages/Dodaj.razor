@page "/dodaj"
@using WebApiPovezivanje.Models
@inject HttpClient httpClient;
@inject NavigationManager navManager;

<h3>Dodaj</h3>



<br />

<form @onsubmit="DodajOsobu">

    <div class="mb-3">
        <label for="fprezime" class="form-label">Prezime</label>
        <input id="fime" class="form-control" @bind-value="osoba.Ime" name="fime" type="text" placeholder="Ime" />
    </div>
    <div class="mb-3">
        <label for="fprezime" class="form-label">Prezime</label>
        <input id="fprezime" class="form-control posebni-input" @bind-value="osoba.Prezime" name="fprezime" type="text" placeholder="Prezime" />
    </div>
    <div class="mb-3">
        <label for="fbrtel" class="form-label">Broj Telefona</label>
        <input id="fbrtel" class="form-control" @bind-value="osoba.BrojTelefona" name="fbrtel" type="text" placeholder="Broj telefona" />
    </div>
    <div class="mb-3">
        <label for="fbrmob" class="form-label">Broj Mobitela</label>
        <input id="fbrmob" class="form-control" @bind-value="osoba.BrojMobitela" name="fbrmob" type="text" placeholder="Broj mobitela" />
    </div>
    <div class="mb-3">
        <label for="fadr" class="form-label">Adresa</label>
        <input id="fadr" class="form-control" @bind-value="osoba.Adresa" name="fadr" type="text" placeholder="Adresa" />
    </div>
    <div class="mb-3">
        <label for="fgrad" class="form-label">Grad</label>
        <input id="fgrad" class="form-control" @bind-value="osoba.Grad" name="fgrad" type="text" placeholder="Grad" />
    </div>
    <div class="mb-3">
        <label for="fdrzava" class="form-label">Država</label>
        <input id="fdrzava" class="form-control" @bind-value="osoba.Drzava" name="fdrzava" type="text" placeholder="Drzava" />
    </div>


    <button class="btn btn-primary btn-moj" type="submit">Spremi izmjenu</button>
    
</form>



@code {
    Osoba osoba = new Osoba();

    public async Task DodajOsobu()
    {
        var result = await httpClient.PostAsJsonAsync<Osoba>("https://expertvjezbeapi.azurewebsites.net/api/Osobes", osoba);
        if (result.IsSuccessStatusCode)
        {
            navManager.NavigateTo("osobe");
        }
    }
}
